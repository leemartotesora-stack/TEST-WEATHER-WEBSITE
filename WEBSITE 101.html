<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PANAHON â€” Weather App</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
  <link rel="stylesheet" href="WEB101.css" />
</head>
<body>
  <div class="app-container">
    <!-- Header with search -->
    <header class="header">
      <h1 class="app-title">PANAHON</h1>
      <div class="search-box">
        <div class="input-wrap">
          <span class="material-symbols-outlined search-icon">search</span>
          <input autocomplete="off" type="text" id="city" placeholder="Search cities, towns..." aria-label="City name">
          <div id="suggestions" class="suggestions" role="listbox"></div>
        </div>
        <button id="searchBtn" class="search-btn">Search</button>
      </div>
      <div style="margin-top: 12px; display: flex; gap: 12px; flex-wrap: wrap; align-items: center;">
        <button id="useLocationBtn" class="use-location-btn" type="button"><span class="material-symbols-outlined">my_location</span> Use my location</button>
        <div id="pollenDisplay" style="display: none;"></div>
        <div id="asthmaFlag" style="display: none;"></div>
        <div id="hazardScoreDisplay" style="display: none;"></div>
      </div>
    </header>

    <!-- Main weather display -->
    <main class="weather-main">
      <!-- Current weather card -->
      <section class="current-weather" id="currentWeather" style="display:none;">
        <div class="weather-hero">
          <div class="weather-condition">
            <span class="weather-icon" id="weatherIcon">â›…</span>
            <div class="temp-main">
              <div class="temperature" id="temp">26Â°C</div>
              <div class="condition-desc" id="description">Partly Cloudy</div>
            </div>
          </div>
          <div class="location-info">
            <h2 class="city-name" id="cityName">Manila, PH</h2>
            <p class="timestamp" id="timestamp">Dec 12, 2025 â€” 10:00 AM</p>
          </div>
        </div>

        <!-- Key stats grid -->
        <div class="stats-grid">
          <div class="stat-card">
            <span class="stat-icon">ğŸ’§</span>
            <div class="stat-content">
              <span class="stat-label">Humidity</span>
              <span class="stat-value" id="humidity">68%</span>
            </div>
          </div>
          <div class="stat-card">
            <span class="stat-icon">ğŸ’¨</span>
            <div class="stat-content">
              <span class="stat-label">Wind Speed</span>
              <span class="stat-value" id="windSpeed">4.2 m/s</span>
            </div>
          </div>
          <div class="stat-card">
            <span class="stat-icon">ğŸŒ¡ï¸</span>
            <div class="stat-content">
              <span class="stat-label">Feels Like</span>
              <span class="stat-value" id="feelsLike">27Â°C</span>
            </div>
          </div>
          <div class="stat-card">
            <span class="stat-icon">âš–ï¸</span>
            <div class="stat-content">
              <span class="stat-label">Pressure</span>
              <span class="stat-value" id="pressure">1013 hPa</span>
            </div>
          </div>
        </div>
      </section>

      <!-- 5-Day Forecast -->
      <section class="forecast-section" id="forecastSection" style="display:none;">
        <h3 class="section-title">5-Day Forecast</h3>
        <div class="forecast-grid" id="forecastGrid">
          <div class="forecast-card">
            <div class="day">Today</div>
            <div class="icon">â›…</div>
            <div class="temps">24Â° / 30Â°</div>
            <div class="desc">Partly Cloudy</div>
          </div>
          <div class="forecast-card">
            <div class="day">Sun</div>
            <div class="icon">ğŸŒ§ï¸</div>
            <div class="temps">23Â° / 28Â°</div>
            <div class="desc">Light Rain</div>
          </div>
          <div class="forecast-card">
            <div class="day">Mon</div>
            <div class="icon">â˜€ï¸</div>
            <div class="temps">25Â° / 31Â°</div>
            <div class="desc">Sunny</div>
          </div>
          <div class="forecast-card">
            <div class="day">Tue</div>
            <div class="icon">â›…</div>
            <div class="temps">24Â° / 29Â°</div>
            <div class="desc">Partly Cloudy</div>
          </div>
          <div class="forecast-card">
            <div class="day">Wed</div>
            <div class="icon">ğŸŒ¦ï¸</div>
            <div class="temps">22Â° / 27Â°</div>
            <div class="desc">Showers</div>
          </div>
        </div>
      </section>

      <!-- Hourly Forecast -->
      <section class="hourly-section" id="hourlySection" style="display:none;">
        <h3 class="section-title">Hourly Forecast (Next 12 Hours)</h3>
        <div class="hourly-scroll" id="hourlyScroll">
          <div class="hour-item">10:00 â€” 26Â°C â›…</div>
          <div class="hour-item">11:00 â€” 27Â°C â›…</div>
          <div class="hour-item">12:00 â€” 28Â°C â˜€ï¸</div>
          <div class="hour-item">13:00 â€” 29Â°C â˜€ï¸</div>
          <div class="hour-item">14:00 â€” 29Â°C â˜€ï¸</div>
          <div class="hour-item">15:00 â€” 28Â°C â›…</div>
          <div class="hour-item">16:00 â€” 27Â°C â›…</div>
          <div class="hour-item">17:00 â€” 26Â°C ğŸŒ¤ï¸</div>
          <div class="hour-item">18:00 â€” 25Â°C ğŸŒ‡</div>
          <div class="hour-item">19:00 â€” 24Â°C ğŸŒ™</div>
          <div class="hour-item">20:00 â€” 23Â°C ğŸŒ™</div>
          <div class="hour-item">21:00 â€” 22Â°C ğŸŒ™</div>
        </div>
      </section>

      <!-- Sunrise/Sunset + Air Quality -->
      <section class="info-grid" id="infoGrid" style="display:none;">
        <div class="info-card sunrise-card">
          <h4>Sunrise & Sunset</h4>
          <div class="sunrise-info">
            <div class="time-row">
              <span class="time-label">ğŸŒ… Sunrise</span>
              <span class="time-value" id="sunrise">05:20</span>
            </div>
            <div class="time-row">
              <span class="time-label">ğŸŒ‡ Sunset</span>
              <span class="time-value" id="sunset">17:45</span>
            </div>
          </div>
        </div>
<section class="hazard-section" id="hazardSection">
        <div class="info-card aqi-card">
          <h4>Air Quality Index</h4>
          <div class="aqi-content">
            <div class="aqi-badge" id="aqiBadge">42</div>
            <p class="aqi-label" id="aqiLabel">Good â€” Low health risk</p>
          </div>
          <div class="data-source">
            <small>Data source: <a href="https://openweathermap.org" target="_blank" rel="noopener">OpenWeatherMap</a></small>
          </div>
        </div>

        <div class="info-card uv-card">
          <h4>UV Index</h4>
          <div class="uv-content">
            <div class="uv-value" id="uvIndex">3</div>
            <p class="uv-label" id="uvLabel">Moderate â€” Use sun protection</p>
          </div>
        </div>

        <div class="info-card visibility-card">
          <h4>Visibility</h4>
          <div class="visibility-value" id="visibility">10 km</div>
        </div>
      </section>

      <!-- Alerts -->
      <section class="alerts-section" id="alertsSection">
        <h3 class="section-title">âš ï¸ Alerts & Warnings</h3>
        <div id="alertsList">
          <div class="alert-item"><strong>Flood Watch:</strong> Elevated river levels in low-lying areas; avoid crossing flooded roads.</div>
          <div class="alert-item"><strong>Air Quality Advisory:</strong> Sensitive groups should limit prolonged outdoor exertion.</div>
        </div>
      </section>

      <!-- Plant & Garden Advisor -->
      <section class="advisor-section" id="plantAdvisor">
        <h3 class="section-title">ğŸŒ¿ Plant & Garden Advisory</h3>
        <p id="plantAdviceText"><strong>Best watering time:</strong> Early morning or late evening (avoid hottest hours).<br><strong>Humidity:</strong> Moderate (approx 60%).<br><strong>Pest warnings:</strong> Watch for aphids after rainy days.</p>
      </section>

      <!-- Hazard Safety Score -->
      <section class="hazard-section" id="hazardSection">
        <h3 class="section-title">âš ï¸ Hazard Risk</h3>
        <div id="hazardScoreDisplay" class="hazard-score">3/10</div>
        <p id="hazardDescription">Low risk â€” localized flooding possible in low areas.</p>
        <div id="hazardBreakdown">
          <ul style="color:var(--text-secondary);font-size:13px;margin:6px 0 0 18px;">
            <li>Heat risk: 1/4</li>
            <li>Rain intensity: 1/3</li>
            <li>Flood chance: 1/3</li>
            <li>Wind danger: 0/3</li>
          </ul>
        </div>
      </section>

      <!-- AQ Health Advisory -->
      <section class="health-section" id="healthSection">
        <h3 class="section-title">ğŸ¥ Health Recommendation</h3>
        <p id="healthAdviceText"><strong>AQI:</strong> 42 â€” Good</p>
        <div id="aqActions">
          <strong>Suggested actions:</strong>
          <ul style="color:var(--text-secondary);font-size:13px;margin:6px 0 0 18px;">
            <li>Air quality is good â€” outdoor activities OK.</li>
            <li>People with respiratory issues should monitor updates.</li>
          </ul>
        </div>
      </section>
    </main>

    <!-- Loading state -->
    <div class="loading" id="loading" style="display:none;">
      <span class="spinner"></span>
      <p>Fetching weather data...</p>
    </div>

    <!-- Error state -->
    <div class="error-box" id="errorBox" style="display:none;"></div>
  </div>

  <script src="WEBS101.js"></script>
</body>
</html>