<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PANAHON ‚Äî Weather App</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
  <link rel="stylesheet" href="WEB101.css" />
</head>

<body>
  <div class="app-container">

    <!-- HEADER ------------------------------------------------------>
    <header class="header">
      <h1 class="app-title">PANAHON</h1>

      <div class="search-box">
        <div class="input-wrap">
          <span class="material-symbols-outlined search-icon">search</span>
          <input autocomplete="off" type="text" id="city" placeholder="Search cities, towns..." aria-label="City name">
          <div id="suggestions" class="suggestions" role="listbox"></div>
        </div>
        <button id="searchBtn" class="search-btn">Search</button>
      </div>

      <div style="margin-top: 12px; display: flex; gap: 12px; flex-wrap: wrap; align-items: center;">
        <button id="useLocationBtn" class="use-location-btn" type="button">
          <span class="material-symbols-outlined">my_location</span> Use my location
        </button>

        <div id="pollenDisplay" style="display:none;"></div>
        <div id="asthmaFlag" style="display:none;"></div>
        <div id="hazardScoreDisplay" style="display:none;"></div>
      </div>
    </header>

    <!-- MAIN WEATHER AREA ------------------------------------------->
    <main class="weather-main">

      <!-- CURRENT WEATHER -->
      <section class="current-weather" id="currentWeather" style="display:none;">
        <div class="weather-hero">
          <div class="weather-condition">
            <span class="weather-icon" id="weatherIcon">‚õÖ</span>
            <div class="temp-main">
              <div class="temperature" id="temp">26¬∞C</div>
              <div class="condition-desc" id="description">Partly Cloudy</div>
            </div>
          </div>

          <div class="location-info">
            <h2 class="city-name" id="cityName">Manila, PH</h2>
            <p class="timestamp" id="timestamp">Dec 12, 2025 ‚Äî 10:00 AM</p>
          </div>
        </div>

        <!-- CURRENT WEATHER STATS CARD -->
        <div class="stats-grid">
          <div class="stat-card">
            <span class="stat-icon">üíß</span>
            <div class="stat-content">
              <span class="stat-label">Humidity</span>
              <span class="stat-value" id="humidity">68%</span>
            </div>
          </div>

          <div class="stat-card">
            <span class="stat-icon">üí®</span>
            <div class="stat-content">
              <span class="stat-label">Wind Speed</span>
              <span class="stat-value" id="windSpeed">4.2 m/s</span>
            </div>
          </div>

          <div class="stat-card">
            <span class="stat-icon">üå°Ô∏è</span>
            <div class="stat-content">
              <span class="stat-label">Feels Like</span>
              <span class="stat-value" id="feelsLike">27¬∞C</span>
            </div>
          </div>

          <div class="stat-card">
            <span class="stat-icon">‚öñÔ∏è</span>
            <div class="stat-content">
              <span class="stat-label">Pressure</span>
              <span class="stat-value" id="pressure">1013 hPa</span>
            </div>
          </div>
        </div>
      </section>

      <!-- 5-DAY FORECAST -->
      <section class="forecast-section" id="forecastSection" style="display:none;">
        <h3 class="section-title">5-Day Forecast</h3>
        <div class="forecast-grid" id="forecastGrid"></div>
      </section>

      <!-- HOURLY FORECAST -->
      <section class="hourly-section" id="hourlySection" style="display:none;">
        <h3 class="section-title">Hourly Forecast (Next 12 Hours)</h3>
        <div class="hourly-scroll" id="hourlyScroll"></div>
      </section>

      <!-- INFO GRID (Sunrise / AQI / UV / Visibility) -->
      <section class="info-grid" id="infoGrid" style="display:none;">

        <!-- Sunrise -->
        <div class="info-card sunrise-card">
          <h4>Sunrise & Sunset</h4>
          <div class="sunrise-info">
            <div class="time-row">
              <span class="time-label">üåÖ Sunrise</span>
              <span class="time-value" id="sunrise">05:20</span>
            </div>
            <div class="time-row">
              <span class="time-label">üåá Sunset</span>
              <span class="time-value" id="sunset">17:45</span>
            </div>
          </div>
        </div>

        <!-- AQI / UV / VISIBILITY -->
        <section class="hazard-section" id="hazardSection">

          <div class="info-card aqi-card">
            <h4>Air Quality Index</h4>
            <div class="aqi-content">
              <div class="aqi-badge" id="aqiBadge">--</div>
              <p class="aqi-label" id="aqiLabel">Unknown</p>
            </div>
            <div class="data-source">
              <small>Source: <a href="https://openweathermap.org" target="_blank">OpenWeatherMap</a></small>
            </div>
          </div>

          <div class="info-card uv-card">
            <h4>UV Index</h4>
            <div class="uv-content">
              <div class="uv-value" id="uvIndex">--</div>
              <p class="uv-label" id="uvLabel">Unknown</p>
            </div>
          </div>

          <div class="info-card visibility-card">
            <h4>Visibility</h4>
            <div class="visibility-value" id="visibility">-- km</div>
          </div>

        </section>
      </section>

      <!-- LOCALIZED HAZARD SCORE (JS inserts content here automatically) -->
      <div id="localizedHazard"></div>

      <!-- HAZARD RISK PANEL (RENAMED so it no longer conflicts) -->
      <section class="hazard-section" id="hazardRiskSection">
        <h3 class="section-title">‚ö†Ô∏è Hazard Risk</h3>
        <div id="hazardScoreDisplay" class="hazard-score"></div>
        <p id="hazardDescription"></p>
        <div id="hazardBreakdown"></div>
      </section>

      <!-- ALERTS -->
      <section class="alerts-section" id="alertsSection">
        <h3 class="section-title">‚ö†Ô∏è Alerts & Warnings</h3>
        <div id="alertsList"></div>
      </section>

      <!-- PLANT ADVISOR -->
      <section class="advisor-section" id="plantAdvisor">
        <h3 class="section-title">üåø Plant & Garden Advisory</h3>
        <p id="plantAdviceText"></p>
      </section>

      <!-- HEALTH ADVISORY -->
      <section class="health-section" id="healthSection">
        <h3 class="section-title">üè• Health Recommendation</h3>
        <p id="healthAdviceText"></p>
        <div id="aqActions"></div>
      </section>

    </main>

    <!-- Loading -->
    <div class="loading" id="loading" style="display:none;">
      <span class="spinner"></span>
      <p>Fetching weather data...</p>
    </div>

    <!-- Error -->
    <div class="error-box" id="errorBox" style="display:none;"></div>
  </div>

  <script src="WEBS101.js"></script>
</body>
</html>

